{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?2d50","webpack:///./src/utils/index.js","webpack:///./src/utils/geo.js","webpack:///./src/sun.js","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?f446"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","on","$event","showCalendar","_s","dateStr","onTimeChange","model","callback","$$v","time","expression","timeStr","playing","play","riseTimeStr","setTimeStr","dayLengthStr","_l","item","date","class","active","choseDate","loaded","_e","minDate","maxDate","onChoseDate","staticRenderFns","dateFormat","fmt","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","S","getMilliseconds","k","test","replace","RegExp","$1","getFullYear","substr","timeFormat","h","getDays","decimal","year","date0","Date","days","parse","round","getDeclination","b","PI","cos","sin","getSunLightHeightRad","lat","declination","getDayLength","acos","tan","getSunTime","lon","zone","dayLength","centerLon","deg2rad","noonTimeNum","rad2deg","noonTime","riseTime","setTime","deg","rad","deg2str","abs","v1","v2","v3","rad2str","a","ee","wgs2gcj","lng","out_of_china","dlat","transformlat","dlng","transformlng","radlat","magic","sqrtmagic","sqrt","mglat","mglng","ret","lonlat2WebMercator","xy","x","y","log","isDev","process","Sun","options","dev","element","baseMap","_isDev","_element","_lon","utils","_lat","_date","_time","_baseMap","_R","_scene","_currentRotateRad","_sunLightHeightRad","_noonTimeNum","_initRender","_initScene","_initCamera","_initLight","_initControl","_addSun","_addBasePlane","_addHelper","_addEarthAxis","_addStats","onresize","_onWindowResize","_render","_rotate","group","THREE","features","forEach","feature","points","geometry","coordinates","map","point","building","_creatBuilding","properties","height","add","console","children","type","_removeGroup","_removeMesh","remove","dispose","_renderer","_camera","_control","_ambientLight","_directionalLight","mesh","Array","isArray","material","targetRoateRad","rotateRad","earthAxisVector3","rotateAboutWorldAxis","_sunMesh","intensity","render","update","_stats","_directionalLightHelper","requestAnimationFrame","renderer","canvas","antialias","alpha","setSize","innerWidth","innerHeight","setPixelRatio","devicePixelRatio","setClearColor","shadowMap","enabled","scene","background","camera","position","set","lookAt","ambientLight","directionalLight","shadow","near","far","left","right","top","bottom","mapSize","castShadow","control","OrbitControls","domElement","enableDamping","enableZoom","enablePan","autoRotate","autoRotateSpeed","minPolarAngle","maxPolarAngle","minDistance","maxDistance","axesHelper","color","linewidth","vertices","line","setPath","load","sunGeometry","sunMesh","z","planeGeometry","groundTexture","planeMaterial","planeMesh","rotateX","receiveShadow","reverse","getGeometry","materialArr","transparent","opacity","side","aspect","updateProjectionMatrix","stats","Stats","showPanel","dom","style","document","body","appendChild","topPoints","totalPoints","concat","faces","triangles","Earcut","tlength","face1","face2","materialIndex","computeFaceNormals","axis","angle","rotationMatrix","makeRotationAxis","normalize","currentPos","newPos","applyMatrix4","noonTimeStr","dates","computed","mounted","sunView","querySelector","init","loadBuildings","setTimeout","destroyed","destroy","methods","val","clearTimeout","timer","setInterval","interval","transformCoordinate","ring","newRing","newCoordinates","component","Vue","use","config","productionTip","App","$mount"],"mappings":"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","file":"js/app.18bae26f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-wrapper\",attrs:{\"id\":\"app\"}},[_c('canvas',{attrs:{\"id\":\"canvasRender\"}}),_c('div',{staticClass:\"bottom-card\"},[_c('div',{staticClass:\"top\"},[_c('h4',{staticClass:\"title\"},[_vm._v(\"狐厂家园\")]),_c('div',{staticClass:\"date\",on:{\"click\":function($event){_vm.showCalendar = true}}},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.dateStr))]),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)]),_c('div',{staticClass:\"time-wrapper\"},[_c('div',{staticClass:\"time-slider\"},[_c('span',{staticClass:\"time\"},[_vm._v(\"00:00\")]),_c('van-slider',{attrs:{\"min\":0,\"max\":24,\"step\":0.0001,\"button-size\":\"14px\"},on:{\"change\":_vm.onTimeChange},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}}),_c('span',{staticClass:\"time\"},[_vm._v(\"24:00\")]),_c('span',{staticClass:\"current-time\"},[_vm._v(_vm._s(_vm.timeStr))])],1),_c('van-icon',{staticClass:\"play\",attrs:{\"name\":_vm.playing ? 'pause-circle-o' : 'play-circle-o',\"size\":\"24px\"},on:{\"click\":_vm.play}})],1),_c('div',{staticClass:\"times\"},[_c('p',[_vm._v(\" 日出时间\"),_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.riseTimeStr))])]),_c('p',[_vm._v(\" 日落时间\"),_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.setTimeStr))])]),_c('p',[_vm._v(\" 昼长\"),_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.dayLengthStr))])])]),_c('div',{staticClass:\"dates\"},_vm._l((_vm.dates),function(item){return _c('van-button',{key:item.date,staticClass:\"btn\",class:{ active: _vm.dateStr === item.date },attrs:{\"plain\":\"\",\"size\":\"mini\",\"type\":\"default\"},on:{\"click\":function($event){return _vm.choseDate(item.date)}}},[_vm._v(_vm._s(item.name))])}),1)]),(!_vm.loaded)?_c('div',{staticClass:\"loading\"}):_vm._e(),_c('van-calendar',{attrs:{\"min-date\":_vm.minDate,\"max-date\":_vm.maxDate},on:{\"confirm\":_vm.onChoseDate},model:{value:(_vm.showCalendar),callback:function ($$v) {_vm.showCalendar=$$v},expression:\"showCalendar\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * 将 Date 转化为指定格式的String\n */\nexport function dateFormat(date, fmt) {\n  var o = {\n    'M+': date.getMonth() + 1,\n    'd+': date.getDate(),\n    'h+': date.getHours(),\n    'm+': date.getMinutes(),\n    's+': date.getSeconds(),\n    'q+': Math.floor((date.getMonth() + 3) / 3),\n    S: date.getMilliseconds()\n  }\n  if (/(y+)/.test(fmt)) {\n    fmt = fmt.replace(\n      RegExp.$1,\n      (date.getFullYear() + '').substr(4 - RegExp.$1.length)\n    )\n  }\n  for (var k in o) {\n    if (new RegExp('(' + k + ')').test(fmt)) {\n      fmt = fmt.replace(\n        RegExp.$1,\n        RegExp.$1.length == 1 ? o[k] : ('00' + o[k]).substr(('' + o[k]).length)\n      )\n    }\n  }\n  return fmt\n}\n\n// 时间转换\nexport function timeFormat(value, fmt = 'hh:mm') {\n  let h = Math.floor(value)\n  let m = Math.floor(value * 60 - h * 60)\n  let s = Math.floor(value * 60 * 60 - h * 60 * 60 - m * 60)\n  var o = {\n    'h+': h,\n    'm+': m,\n    's+': s\n  }\n  for (var k in o) {\n    if (new RegExp('(' + k + ')').test(fmt)) {\n      fmt = fmt.replace(\n        RegExp.$1,\n        RegExp.$1.length == 1 ? o[k] : ('00' + o[k]).substr(('' + o[k]).length)\n      )\n    }\n  }\n  return fmt\n}\n\n// 获取当年已过去的天数\nexport function getDays(date, decimal) {\n  let year = date.getFullYear()\n  let date0 = new Date(year + '/01/01')\n  let days = (Date.parse(date) - date0) / (24 * 60 * 60 * 1000) + 1\n  return decimal ? days : Math.round(days)\n}\n\n// 计算赤纬（单位为弧度）\nexport function getDeclination(date) {\n  let n = getDays(date)\n  let b = (2 * Math.PI * (n - 1)) / 365\n  let result =\n    0.006918 -\n    0.399912 * Math.cos(b) +\n    0.070257 * Math.sin(b) -\n    0.006758 * Math.cos(2 * b) +\n    0.000907 * Math.sin(2 * b) -\n    0.002697 * Math.cos(3 * b) +\n    0.00148 * Math.sin(3 * b)\n  return result\n}\n\n// 计算正午时刻太阳高度角（单位为弧度）\nexport function getSunLightHeightRad(lat, date) {\n  const declination = getDeclination(date)\n  return Math.PI / 2 - lat + declination\n}\n\n// 计算昼长\nexport function getDayLength(date, lat) {\n  let d = getDeclination(date)\n  let result = 24 - (24 * Math.acos(Math.tan(d) * Math.tan(lat))) / Math.PI\n  return result\n}\n\n// 计算日出时间、日落时间、正午时间、昼长等\nexport function getSunTime(lon, lat, date, zone = 8, fmt = 'hh:mm:ss') {\n  let dayLength = getDayLength(date, lat) // 昼长\n  let centerLon = deg2rad(15 * zone) // 时区中央经线\n  let noonTimeNum = 12 + rad2deg(centerLon - lon) / 15 // 日中天时间\n  let noonTime = timeFormat(noonTimeNum)\n  let riseTime = timeFormat(noonTimeNum - dayLength / 2, fmt)\n  let setTime = timeFormat(noonTimeNum + dayLength / 2, fmt)\n  return { riseTime, setTime, noonTime, noonTimeNum, dayLength }\n}\n\n// 角度转弧度\nexport function deg2rad(deg) {\n  return (Math.PI * deg) / 180\n}\n\n// 弧度转角度\nexport function rad2deg(rad) {\n  return (rad * 180) / Math.PI\n}\n\n// 角度转度分秒字符串\nexport function deg2str(deg) {\n  let value = Math.abs(deg)\n  var v1 = Math.floor(value)\n  var v2 = Math.floor((value - v1) * 60)\n  var v3 = Math.round(((value - v1) * 3600) % 60)\n  var result = `${v1}°${v2}′${v3}″`\n  if (deg < 0) {\n    result = '-' + result\n  }\n  return result\n}\n\n// 弧度转度分秒字符串\nexport function rad2str(rad) {\n  return deg2str(rad2deg(rad))\n}\n\nexport default {\n  dateFormat,\n  timeFormat,\n  getDays,\n  getDeclination,\n  getSunLightHeightRad,\n  getDayLength,\n  getSunTime,\n  deg2rad,\n  rad2deg,\n  deg2str,\n  rad2str\n}\n","//定义一些常量\nvar PI = Math.PI\nvar x_PI = (PI * 3000.0) / 180.0\nvar a = 6378245.0\nvar ee = 0.00669342162296594323\n\n/**\n * BD-09 => GCJ-02\n * @param bd_lon\n * @param bd_lat\n * @returns {*[]}\n */\nexport function bd2gcj(bd_lon, bd_lat) {\n  var x = bd_lon - 0.0065\n  var y = bd_lat - 0.006\n  var z = Math.sqrt(x * x + y * y) - 0.00002 * Math.sin(y * x_PI)\n  var theta = Math.atan2(y, x) - 0.000003 * Math.cos(x * x_PI)\n  var gg_lng = z * Math.cos(theta)\n  var gg_lat = z * Math.sin(theta)\n  return [gg_lng, gg_lat]\n}\n\n/**\n * GCJ-02 => BD-09\n * @param lng\n * @param lat\n * @returns {*[]}\n */\nexport function gcj2bd(lng, lat) {\n  var z = Math.sqrt(lng * lng + lat * lat) + 0.00002 * Math.sin(lat * x_PI)\n  var theta = Math.atan2(lat, lng) + 0.000003 * Math.cos(lng * x_PI)\n  var bd_lng = z * Math.cos(theta) + 0.0065\n  var bd_lat = z * Math.sin(theta) + 0.006\n  return [bd_lng, bd_lat]\n}\n\n/**\n * WGS84 => GCj02\n * @param lng\n * @param lat\n * @returns {*[]}\n */\nexport function wgs2gcj(lng, lat) {\n  if (out_of_china(lng, lat)) {\n    return [lng, lat]\n  } else {\n    var dlat = transformlat(lng - 105.0, lat - 35.0)\n    var dlng = transformlng(lng - 105.0, lat - 35.0)\n    var radlat = (lat / 180.0) * PI\n    var magic = Math.sin(radlat)\n    magic = 1 - ee * magic * magic\n    var sqrtmagic = Math.sqrt(magic)\n    dlat = (dlat * 180.0) / (((a * (1 - ee)) / (magic * sqrtmagic)) * PI)\n    dlng = (dlng * 180.0) / ((a / sqrtmagic) * Math.cos(radlat) * PI)\n    var mglat = lat + dlat\n    var mglng = lng + dlng\n    return [mglng, mglat]\n  }\n}\n\n/**\n * GCJ02 => WGS84\n * @param lng\n * @param lat\n * @returns {*[]}\n */\nexport function gcj2wgs(lng, lat) {\n  if (out_of_china(lng, lat)) {\n    return [lng, lat]\n  } else {\n    var dlat = transformlat(lng - 105.0, lat - 35.0)\n    var dlng = transformlng(lng - 105.0, lat - 35.0)\n    var radlat = (lat / 180.0) * PI\n    var magic = Math.sin(radlat)\n    magic = 1 - ee * magic * magic\n    var sqrtmagic = Math.sqrt(magic)\n    dlat = (dlat * 180.0) / (((a * (1 - ee)) / (magic * sqrtmagic)) * PI)\n    dlng = (dlng * 180.0) / ((a / sqrtmagic) * Math.cos(radlat) * PI)\n    mglat = lat + dlat\n    mglng = lng + dlng\n    return [lng * 2 - mglng, lat * 2 - mglat]\n  }\n}\n\nfunction transformlat(lng, lat) {\n  var ret =\n    -100.0 +\n    2.0 * lng +\n    3.0 * lat +\n    0.2 * lat * lat +\n    0.1 * lng * lat +\n    0.2 * Math.sqrt(Math.abs(lng))\n  ret +=\n    ((20.0 * Math.sin(6.0 * lng * PI) + 20.0 * Math.sin(2.0 * lng * PI)) *\n      2.0) /\n    3.0\n  ret +=\n    ((20.0 * Math.sin(lat * PI) + 40.0 * Math.sin((lat / 3.0) * PI)) * 2.0) /\n    3.0\n  ret +=\n    ((160.0 * Math.sin((lat / 12.0) * PI) + 320 * Math.sin((lat * PI) / 30.0)) *\n      2.0) /\n    3.0\n  return ret\n}\n\nfunction transformlng(lng, lat) {\n  var ret =\n    300.0 +\n    lng +\n    2.0 * lat +\n    0.1 * lng * lng +\n    0.1 * lng * lat +\n    0.1 * Math.sqrt(Math.abs(lng))\n  ret +=\n    ((20.0 * Math.sin(6.0 * lng * PI) + 20.0 * Math.sin(2.0 * lng * PI)) *\n      2.0) /\n    3.0\n  ret +=\n    ((20.0 * Math.sin(lng * PI) + 40.0 * Math.sin((lng / 3.0) * PI)) * 2.0) /\n    3.0\n  ret +=\n    ((150.0 * Math.sin((lng / 12.0) * PI) +\n      300.0 * Math.sin((lng / 30.0) * PI)) *\n      2.0) /\n    3.0\n  return ret\n}\n\n/**\n * 判断是否在国内，不在国内则不做偏移\n * @param lng\n * @param lat\n * @returns {boolean}\n */\nfunction out_of_china(lng, lat) {\n  return (\n    lng < 72.004 || lng > 137.8347 || lat < 0.8293 || lat > 55.8271 || false\n  )\n}\n\n\n/**\n * WGS84 => web墨卡托\n * 平面坐标x = 经度*20037508.34/108\n * 平面坐标y = log（tan（（90+纬度）*PI/360））/（PI/360）*20037508.34/180\n */\nexport function lonlat2WebMercator(lon, lat) {\n  let xy = []\n  let x = lon * 20037508.34 / 180;\n  let y = Math.log(Math.tan((90 + lat) * Math.PI / 360)) / (Math.PI / 180);\n  y = y * 20037508.34 / 180;\n  xy[0] = x;\n  xy[1] = y;\n  return (xy);\n}\n\nexport default {\n  bd2gcj,\n  gcj2bd,\n  wgs2gcj,\n  gcj2wgs,\n  lonlat2WebMercator\n}\n","import * as THREE from 'three'\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls'\nimport Stats from 'stats.js'\nimport Earcut from 'earcut'\nimport utils from './utils'\nconst isDev = process.env.NODE_ENV !== 'production'\n\nexport default class Sun {\n  constructor(options) {\n    const { lon, lat, date, time, dev, element, baseMap } = options\n    this._isDev = dev && isDev // 在开发环境显示辅助线\n    this._element = element // canvas 元素\n    this._lon = utils.deg2rad(lon) // 经度弧度\n    this._lat = utils.deg2rad(lat) // 纬度弧度\n    this._date = date // 日期\n    this._time = time // 时间（数字）\n    this._baseMap = baseMap\n    this._R = 3000 // 太阳轨迹半径\n  }\n\n  init() {\n    if (this._scene) {\n      return\n    }\n    this._currentRotateRad = 0\n    this._sunLightHeightRad = utils.getSunLightHeightRad(this._lat, this._date) // 正午时刻太阳高度角\n    this._noonTimeNum = utils.getSunTime(\n      this._lon,\n      this._lat,\n      this._date\n    ).noonTimeNum // 日中天时间（数字）\n    this._initRender()\n    this._initScene()\n    this._initCamera()\n    this._initLight()\n    this._initControl()\n    this._addSun()\n    this._addBasePlane()\n    // this._addSkyBox()\n    if (this._isDev) {\n      this._addHelper()\n      this._addEarthAxis()\n      this._addStats()\n    }\n    window.onresize = () => {\n      this._onWindowResize()\n    }\n    this._render()\n    this._rotate()\n  }\n\n  // 添加建筑物，参数为geojson格式的对象\n  addBuildings(data, name) {\n    const group = new THREE.Group()\n    group.name = name\n    data.features.forEach(feature => {\n      let points = feature.geometry.coordinates[0].map(point => {\n        return [point[0], 0, -point[1]]\n      })\n      let building = this._creatBuilding(\n        points,\n        feature.properties.height * 8,\n        feature.properties.name\n      )\n      group.add(building)\n    })\n    this._scene.add(group)\n  }\n\n  destroy() {\n    console.log('destroy')\n    if (this._scene) {\n      let children = this._scene.children\n      children.forEach(item => {\n        if (item.type === 'Group') {\n          this._removeGroup(item)\n        } else if (item.type === 'Mesh') {\n          this._removeMesh(item)\n        } else if (item instanceof THREE.Light) {\n          this._scene.remove(item)\n        }\n      })\n    }\n    this._scene.dispose()\n    this._render.dispose()\n    this._scene = null\n    this._renderer = null\n    this._camera = null\n    this._control = null\n    this._ambientLight = null\n    this._directionalLight = null\n  }\n\n  _removeMesh(mesh) {\n    if (mesh.type === 'Mesh') {\n      mesh.geometry.dispose()\n      if (Array.isArray(mesh.material)) {\n        mesh.material.forEach(item => {\n          item.map && item.map.dispose()\n          item.dispose()\n        })\n      } else {\n        mesh.material.dispose()\n      }\n      this._scene.remove(mesh)\n    }\n  }\n\n  _removeGroup(group) {\n    if (group.type === 'Group') {\n      group.children.forEach(item => {\n        if (item.type === 'Mesh') {\n          this._removeMesh(item)\n        }\n      })\n      this._scene.remove(group)\n    }\n  }\n\n  set date(value) {\n    // 日期改变，太阳高度角改变，需要改变太阳的运动轨道\n    this._date = value\n    this._sunLightHeightRad = utils.getSunLightHeightRad(this._lat, this._date)\n    this._sunMesh.position.y = this._R * Math.sin(this._sunLightHeightRad)\n    this._sunMesh.position.z = this._R * Math.cos(this._sunLightHeightRad)\n    this._directionalLight.position.set(\n      0,\n      this._R * Math.sin(this._sunLightHeightRad),\n      this._R * Math.cos(this._sunLightHeightRad)\n    )\n    this._currentRotateRad = 0\n    this._rotate()\n  }\n\n  set time(value) {\n    // 时间改变，只需要改变光照角度\n    this._time = value\n    this._rotate()\n  }\n\n  // 根据当前时间旋转太阳和光照（绕着地轴转）\n  _rotate() {\n    const targetRoateRad = (Math.PI * (this._time - this._noonTimeNum)) / 12\n    const rotateRad = targetRoateRad - this._currentRotateRad\n    const earthAxisVector3 = new THREE.Vector3(0, Math.tan(this._lat), -1) // 地轴方向向量\n    rotateAboutWorldAxis(this._sunMesh, earthAxisVector3, -rotateRad)\n    rotateAboutWorldAxis(this._directionalLight, earthAxisVector3, -rotateRad)\n    this._currentRotateRad = targetRoateRad\n    // 环境光强度也要稍微调整一下\n    this._ambientLight.intensity = 0.6\n  }\n\n  _render() {\n    this._renderer.render(this._scene, this._camera)\n    this._control.update()\n    this._stats && this._stats.update()\n    this._directionalLightHelper && this._directionalLightHelper.update()\n    requestAnimationFrame(() => {\n      this._render()\n    })\n  }\n\n  _initRender() {\n    let renderer = new THREE.WebGLRenderer({\n      canvas: this._element,\n      antialias: true, // 抗锯齿\n      alpha: true // 透明度\n    })\n    renderer.setSize(window.innerWidth, window.innerHeight)\n    renderer.setPixelRatio(window.devicePixelRatio)\n    renderer.setClearColor(0xb9d3ff, 1)\n    renderer.shadowMap.enabled = true\n    // renderer.shadowMap.type = THREE.PCFSoftShadowMap\n    // document.body.appendChild(renderer.domElement)\n    this._renderer = renderer\n  }\n\n  _initScene() {\n    let scene = new THREE.Scene()\n    scene.background = new THREE.Color(0x222222)\n    this._scene = scene\n  }\n\n  _initCamera() {\n    let camera = new THREE.PerspectiveCamera(\n      45,\n      window.innerWidth / window.innerHeight,\n      0.1,\n      50000\n    )\n    camera.position.set(0, 1600, 1600)\n    camera.lookAt(this._scene.position)\n    this._camera = camera\n  }\n\n  _initLight() {\n    // 环境光\n    let ambientLight = new THREE.AmbientLight(0x666666, 0.8)\n    // 平行光\n    let directionalLight = new THREE.DirectionalLight(0xffffff, 1)\n    directionalLight.position.set(\n      0,\n      this._R * Math.sin(this._sunLightHeightRad),\n      this._R * Math.cos(this._sunLightHeightRad)\n    )\n    directionalLight.shadow.camera.near = 0.5\n    directionalLight.shadow.camera.far = 10000\n    directionalLight.shadow.camera.left = -500\n    directionalLight.shadow.camera.right = 500\n    directionalLight.shadow.camera.top = 500\n    directionalLight.shadow.camera.bottom = -500\n    directionalLight.shadow.mapSize.set(1024, 1024)\n    directionalLight.castShadow = true\n\n    this._scene.add(ambientLight)\n    this._scene.add(directionalLight)\n    this._ambientLight = ambientLight\n    this._directionalLight = directionalLight\n  }\n\n  _initControl() {\n    const control = new OrbitControls(this._camera, this._renderer.domElement)\n    control.enableDamping = true\n    control.enableZoom = true\n    control.enablePan = true\n    control.autoRotate = false\n    control.autoRotateSpeed = 0.5\n    control.minPolarAngle = 0\n    control.maxPolarAngle = Math.PI / 2 - 0.1\n    control.minDistance = 100\n    control.maxDistance = 10000\n    // control.minZoom = 0.1\n    // control.maxZoom = 100\n    this._control = control\n  }\n\n  _addHelper() {\n    // 坐标轴\n    const axesHelper = new THREE.AxesHelper(1000)\n    this._scene.add(axesHelper)\n    // 平行光辅助线\n    this._directionalLightHelper = new THREE.DirectionalLightHelper(\n      this._directionalLight,\n      500,\n      0xffff00\n    )\n    this._scene.add(this._directionalLightHelper)\n  }\n\n  // 辅助线：地轴的一条平行线\n  _addEarthAxis() {\n    const material = new THREE.LineBasicMaterial({\n      color: 0x000000,\n      linewidth: 1\n    })\n    const geometry = new THREE.Geometry()\n    geometry.vertices.push(\n      new THREE.Vector3(0, 1000 * Math.tan(this._lat), -1000),\n      new THREE.Vector3(0, -1000 * Math.tan(this._lat), 1000)\n    )\n    const line = new THREE.Line(geometry, material)\n    this._scene.add(line)\n  }\n\n  // 天空盒\n  _addSkyBox() {\n    this._scene.background = new THREE.CubeTextureLoader()\n      .setPath('./static/images/')\n      .load([\n        'sky_px.jpg',\n        'sky_nx.jpg',\n        'sky_py.jpg',\n        'sky_ny.jpg',\n        'sky_pz.jpg',\n        'sky_nz.jpg'\n      ])\n  }\n\n  // 太阳\n  _addSun() {\n    const sunGeometry = new THREE.SphereGeometry(20, 40, 40)\n    const material = new THREE.MeshLambertMaterial({\n      color: 0xff0000\n    })\n    const sunMesh = new THREE.Mesh(sunGeometry, material)\n    sunMesh.name = '太阳'\n    // sunMesh.translate(0, 1000 * Math.tan(sunLightHeightRad), 1000)\n    sunMesh.position.y = this._R * Math.sin(this._sunLightHeightRad)\n    sunMesh.position.z = this._R * Math.cos(this._sunLightHeightRad)\n    this._scene.add(sunMesh)\n    this._sunMesh = sunMesh\n  }\n\n  // 地平面\n  _addBasePlane() {\n    const planeGeometry = new THREE.PlaneGeometry(1024, 1024)\n    const groundTexture = new THREE.TextureLoader().load(this._baseMap)\n    const planeMaterial = new THREE.MeshLambertMaterial({\n      map: groundTexture\n    })\n    const planeMesh = new THREE.Mesh(planeGeometry, planeMaterial)\n    planeMesh.name = '地图平面'\n    planeMesh.rotateX(-Math.PI / 2)\n    planeMesh.receiveShadow = true\n    planeMesh.castShadow = true\n    this._scene.add(planeMesh)\n  }\n\n  // 建筑\n  _creatBuilding(points, height, name) {\n    points.reverse()\n    const geometry = getGeometry(points, height)\n    // var texture = new THREE.TextureLoader().load(this._baseMap)\n    // texture.wrapS = THREE.RepeatWrapping\n    // texture.wrapT = THREE.RepeatWrapping\n    // texture.repeat.set(4, 4)\n    const materialArr = [\n      // 侧面\n      new THREE.MeshLambertMaterial({\n        color: 0xffffff,\n        transparent: true,\n        opacity: 0.96,\n        // map: texture,\n        side: THREE.BackSide\n      }),\n      // 楼顶\n      new THREE.MeshLambertMaterial({\n        color: 0xeeeeee,\n        transparent: true,\n        opacity: 0.96,\n        side: THREE.BackSide\n      })\n    ]\n    // const facematerial = new THREE.MeshFaceMaterial(materialArr)\n    const mesh = new THREE.Mesh(geometry, materialArr)\n    mesh.name = name\n    mesh.castShadow = true\n    mesh.receiveShadow = true\n    return mesh\n  }\n\n  _onWindowResize() {\n    this._camera.aspect = window.innerWidth / window.innerHeight\n    this._camera.updateProjectionMatrix()\n    this._renderer.setSize(window.innerWidth, window.innerHeight)\n  }\n\n  // WebGL 性能监测器\n  _addStats() {\n    const stats = new Stats()\n    stats.showPanel(1) // 0: fps, 1: ms, 2: mb, 3+: custom\n    stats.dom.style.top = ''\n    stats.dom.style.bottom = '0'\n    document.body.appendChild(stats.dom)\n    this._stats = stats\n  }\n}\n\n// 传入一个坐标串和高度，返回一个 Geometry\nfunction getGeometry(points, height) {\n  var topPoints = []\n  for (var i = 0; i < points.length; i++) {\n    topPoints.push([points[i][0], points[i][1] + height, points[i][2]])\n  }\n  var totalPoints = points.concat(topPoints)\n  var vertices = []\n  for (var i = 0; i < totalPoints.length; i++) {\n    vertices.push(\n      new THREE.Vector3(totalPoints[i][0], totalPoints[i][1], totalPoints[i][2])\n    )\n  }\n  var length = points.length\n  var faces = []\n  //侧面生成三角形\n  for (var j = 0; j < length; j++) {\n    if (j != length - 1) {\n      faces.push(new THREE.Face3(j, j + 1, length + j + 1))\n      faces.push(new THREE.Face3(length + j + 1, length + j, j))\n    } else {\n      faces.push(new THREE.Face3(j, 0, length))\n      faces.push(new THREE.Face3(length, length + j, j))\n    }\n  }\n  var data = []\n  for (var i = 0; i < length; i++) {\n    data.push(points[i][0], points[i][2])\n  }\n  var triangles = Earcut(data)\n  if (triangles && triangles.length != 0) {\n    for (var i = 0; i < triangles.length; i++) {\n      var tlength = triangles.length\n      if (i % 3 == 0 && i < tlength - 2) {\n        //底部的三角面\n        let face1 = new THREE.Face3(\n          triangles[i],\n          triangles[i + 1],\n          triangles[i + 2]\n        )\n        //顶部的三角面\n        let face2 = new THREE.Face3(\n          triangles[i] + length,\n          triangles[i + 1] + length,\n          triangles[i + 2] + length\n        )\n        //纹理编号\n        face1.materialIndex = 1\n        face2.materialIndex = 1\n        faces.push(face1)\n        faces.push(face2)\n      }\n    }\n  }\n\n  var geometry = new THREE.Geometry()\n  geometry.vertices = vertices\n  geometry.faces = faces\n  geometry.computeFaceNormals() //自动计算法向量\n  // geometry.faceVertexUvs[1] = geometry.faceVertexUvs[0]\n  // 纹理坐标\n  // var t0 = new THREE.Vector2(0, 0)\n  // var t1 = new THREE.Vector2(1, 0)\n  // var t2 = new THREE.Vector2(1, 1)\n  // var t3 = new THREE.Vector2(0, 1)\n  // var uv1 = [t0, t1, t2]\n  // var uv2 = [t2, t3, t0]\n  // geometry.faceVertexUvs[0].push(uv1, uv2)\n  return geometry\n}\n\n// 将物体绕着某一个轴旋转\nfunction rotateAboutWorldAxis(object, axis, angle) {\n  const rotationMatrix = new THREE.Matrix4()\n  rotationMatrix.makeRotationAxis(axis.normalize(), angle)\n  const currentPos = new THREE.Vector4(\n    object.position.x,\n    object.position.y,\n    object.position.z,\n    1\n  )\n  const newPos = currentPos.applyMatrix4(rotationMatrix)\n  object.position.x = newPos.x\n  object.position.y = newPos.y\n  object.position.z = newPos.z\n}\n","<template>\n  <div id=\"app\" class=\"page-wrapper\">\n    <canvas id=\"canvasRender\"></canvas>\n    <div class=\"bottom-card\">\n      <div class=\"top\">\n        <h4 class=\"title\">狐厂家园</h4>\n        <div class=\"date\" @click=\"showCalendar = true\">\n          <span class=\"text\">{{ dateStr }}</span>\n          <van-icon name=\"arrow\" />\n        </div>\n      </div>\n      <div class=\"time-wrapper\">\n        <div class=\"time-slider\">\n          <span class=\"time\">00:00</span>\n          <van-slider\n            v-model=\"time\"\n            @change=\"onTimeChange\"\n            :min=\"0\"\n            :max=\"24\"\n            :step=\"0.0001\"\n            button-size=\"14px\"\n          />\n          <span class=\"time\">24:00</span>\n          <span class=\"current-time\">{{ timeStr }}</span>\n        </div>\n        <van-icon\n          class=\"play\"\n          @click=\"play\"\n          :name=\"playing ? 'pause-circle-o' : 'play-circle-o'\"\n          size=\"24px\"\n        />\n      </div>\n      <div class=\"times\">\n        <p>\n          日出时间<span class=\"value\">{{ riseTimeStr }}</span>\n        </p>\n        <p>\n          日落时间<span class=\"value\">{{ setTimeStr }}</span>\n        </p>\n        <p>\n          昼长<span class=\"value\">{{ dayLengthStr }}</span>\n        </p>\n      </div>\n      <div class=\"dates\">\n        <van-button\n          class=\"btn\"\n          :class=\"{ active: dateStr === item.date }\"\n          plain\n          size=\"mini\"\n          type=\"default\"\n          v-for=\"item in dates\"\n          :key=\"item.date\"\n          @click=\"choseDate(item.date)\"\n          >{{ item.name }}</van-button\n        >\n      </div>\n    </div>\n    <div class=\"loading\" v-if=\"!loaded\"></div>\n    <van-calendar\n      v-model=\"showCalendar\"\n      :min-date=\"minDate\"\n      :max-date=\"maxDate\"\n      @confirm=\"onChoseDate\"\n    />\n  </div>\n</template>\n\n<script>\nimport utils from './utils'\nimport { wgs2gcj, lonlat2WebMercator } from './utils/geo'\nimport Sun from './sun'\n\nconst AMapKey = 'd0d18f5a3a5abeff6f97c818019b97eb'\n\nlet sunView = null\nexport default {\n  data() {\n    return {\n      lon: 116.311057,\n      lat: 39.982435,\n      date: new Date(),\n      time: 9, // 0-24\n      riseTimeStr: '',\n      setTimeStr: '',\n      noonTimeStr: '',\n      dayLengthStr: '',\n      minDate: new Date(2020, 0, 1),\n      maxDate: new Date(2020, 12, 31),\n      showCalendar: false,\n      playing: false,\n      loaded: false,\n      dates: [\n        {\n          name: '大寒',\n          date: '2020-01-20'\n        },\n        {\n          name: '春分',\n          date: '2020-03-20'\n        },\n        {\n          name: '夏至',\n          date: '2020-06-21'\n        },\n        {\n          name: '秋分',\n          date: '2020-09-22'\n        },\n        {\n          name: '立冬',\n          date: '2020-11-07'\n        },\n        {\n          name: '冬至',\n          date: '2020-12-21'\n        }\n      ]\n    }\n  },\n  computed: {\n    dateStr() {\n      return utils.dateFormat(this.date, 'yyyy-MM-dd')\n    },\n    timeStr() {\n      return utils.timeFormat(this.time)\n    }\n  },\n  mounted() {\n    this.date = new Date()\n    this.getSunTime()\n    sunView = new Sun({\n      element: document.querySelector('#canvasRender'),\n      lon: this.lon,\n      lat: this.lat,\n      date: this.date,\n      time: this.time,\n      baseMap: `https://restapi.amap.com/v3/staticmap?location=${this.lon},${this.lat}&zoom=16&scale=1&size=1024*1024&key=${AMapKey}`,\n      dev: false\n    })\n    sunView.init()\n    this.loadBuildings()\n    setTimeout(() => {\n      this.loaded = true\n      // this.play()\n    }, 1000)\n  },\n  destroyed() {\n    sunView.destroy()\n  },\n  methods: {\n    onChoseDate(val) {\n      this.date = val\n      this.showCalendar = false\n      this.getSunTime()\n      sunView.date = val\n    },\n    choseDate(dateStr) {\n      this.date = new Date(dateStr)\n      this.getSunTime()\n      sunView.date = this.date\n    },\n    onTimeChange(val) {\n      sunView.time = val\n    },\n    play() {\n      this.playing = !this.playing\n      clearTimeout(this.timer)\n      this.timer = 0\n      if (this.playing) {\n        this.timer = setInterval(() => {\n          let interval = 0.05\n          if (this.time < 4 || this.time > 21) {\n            interval = 0.5 // 晚上加速\n          }\n          this.time = this.time + interval\n          if (this.time > 24) {\n            this.time = 0\n          }\n          sunView.time = this.time\n        }, 50)\n      }\n    },\n    getSunTime() {\n      let { riseTime, setTime, dayLength } = utils.getSunTime(\n        utils.deg2rad(this.lon),\n        utils.deg2rad(this.lat),\n        this.date,\n        8,\n        'hh:mm'\n      )\n      this.riseTimeStr = riseTime\n      this.setTimeStr = setTime\n      this.dayLengthStr = utils\n        .timeFormat(dayLength, 'h h m min')\n        .replace(/\\s+/g, '')\n    },\n    transformCoordinate(data) {\n      const center = lonlat2WebMercator(this.lon, this.lat)\n      // web 墨卡托投影有变形\n      const p = Math.cos(utils.deg2rad(this.lat))\n      data.features.forEach(feature => {\n        let coordinates = feature.geometry.coordinates\n        let newCoordinates = coordinates.map(ring => {\n          let newRing = []\n          ring.forEach(coordinate => {\n            const newCoordinate = lonlat2WebMercator(...wgs2gcj(...coordinate))\n            const x = Math.round((newCoordinate[0] - center[0]) * p * 100) / 100\n            const y = Math.round((newCoordinate[1] - center[1]) * p * 100) / 100\n            newRing.push([x, y])\n          })\n          return newRing\n        })\n        feature.geometry.coordinates = newCoordinates\n      })\n    },\n    async loadBuildings() {\n      let data = await fetch('./data/test.json')\n        .then(response => {\n          return response.json()\n        })\n        .catch(console.error)\n      // 坐标转换\n      if (data && data.features && data.features.length) {\n        this.transformCoordinate(data)\n        sunView && sunView.addBuildings(data)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #333;\n  overflow: hidden;\n  font-size: 16px;\n}\n.page-wrapper {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  .bottom-card {\n    position: absolute;\n    bottom: 16px;\n    left: 50%;\n    transform: translateX(-50%);\n    width: 92vw;\n    max-width: 600px;\n    background: rgba(255, 255, 255, 0.8);\n    border-radius: 6px;\n    padding: 12px;\n    .top {\n      display: flex;\n      justify-content: space-between;\n      line-height: 32px;\n      .title {\n        flex: 1;\n        font-size: 18px;\n        font-weight: 500;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n      .date {\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n        width: 100px;\n        font-size: 14px;\n        .text {\n          margin-right: 4px;\n        }\n      }\n    }\n    .time-wrapper {\n      display: flex;\n      flex-flow: row nowrap;\n      align-items: center;\n      justify-content: center;\n      margin: 10px 0;\n      line-height: 20px;\n      .time-slider {\n        flex: 1;\n        display: flex;\n        align-items: center;\n        .time {\n          font-size: 14px;\n          margin: 0 10px;\n        }\n        .current-time {\n          padding: 1px 4px 0;\n          font-size: 14px;\n          background: rgba(0, 0, 0, 0.08);\n        }\n      }\n      .play {\n        margin: 0 20px;\n      }\n    }\n    .times {\n      display: flex;\n      flex-flow: row nowrap;\n      justify-content: space-around;\n      font-size: 14px;\n      .value {\n        margin-left: 4px;\n        color: rgb(255, 58, 58);\n      }\n    }\n    .dates {\n      display: flex;\n      justify-content: space-around;\n      margin: 10px 0;\n      .btn {\n        font-size: 13px;\n      }\n      .active {\n        border: none;\n        color: #fff;\n        background: linear-gradient(\n          90deg,\n          rgba(255, 102, 102, 1) 0%,\n          rgba(255, 34, 34, 1) 100%\n        );\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=265eaaf8&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\nimport { Calendar, Slider, Icon, Button } from 'vant'\nimport 'vant/lib/index.css'\nimport './styles/index.css'\n\nVue.use(Calendar)\nVue.use(Slider)\nVue.use(Icon)\nVue.use(Button)\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App)\n}).$mount('#app')\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}